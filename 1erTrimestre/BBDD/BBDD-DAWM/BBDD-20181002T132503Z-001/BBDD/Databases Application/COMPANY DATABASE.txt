CREATE TABLE OCCUPATION(
occup_id NUMBER(2)      CONSTRAINT PK_OCCUPATION PRIMARY KEY,
occup_name VARCHAR2(20) CONSTRAINT UN_OCCUPATION_occup_name UNIQUE
                        CONSTRAINT NN_OCCUPATION_occup_name NOT NULL,
wage NUMBER(7,2));


CREATE TABLE BUILDING(
building_id NUMBER(2)      CONSTRAINT PK_BUILDING PRIMARY KEY,
building_name VARCHAR2(20) CONSTRAINT NN_BUILDING_building_name NOT NULL
                          CONSTRAINT UN_BUILDING_building_name UNIQUE,
address VARCHAR2(40));


CREATE TABLE DEPARTMENT(
dept_id NUMBER(3)      CONSTRAINT PK_DEPARTMENT PRIMARY KEY,
dept_name VARCHAR2(20) CONSTRAINT NN_DEPARTMENT_dept_name NOT NULL
                       CONSTRAINT UN_DEPARTMENT_dept_name UNIQUE,
budget NUMBER(9,2)     CONSTRAINT NN_DEPARTMENT_budget NOT NULL ,
manager_id NUMBER(3)   CONSTRAINT FK_DEPARTMENT_EMPLOYEE REFERENCES EMPLOYEE(emp_id),
building_id NUMBER(2)  CONSTRAINT NN_DEPARTMENT_building_id NOT NULL
                       CONSTRAINT FK_DEPARTMENT_CENTRO REFERENCES BUILDING(building_id),
dependent_on NUMBER(3) CONSTRAINT FK_DEPARTMENT_DEPARTMENT REFERENCES DEPARTMENT(dept_id));


CREATE TABLE EMPLOYEE(
emp_id  NUMBER(3)         CONSTRAINT PK_EMPLOYEE PRIMARY KEY,
emp_name VARCHAR2(35)     CONSTRAINT NN_EMPLOYEE_emp_name NOT NULL
                          CONSTRAINT UN_EMPLOYEE_emp_name UNIQUE,
birth_date DATE           CONSTRAINT NN_EMPLOYEE_birth_date NOT NULL,
gender     CHAR		  CONSTRAINT NN_EMPLOYEE_gender  NOT NULL
                          CONSTRAINT CHK_EMPLOYEE_gender CHECK (gender IN('F','M')),
children NUMBER(2)        CONSTRAINT NN_EMPLOYEE_children NOT NULL,
extension CHAR(4),
hire_date DATE           CONSTRAINT NN_EMPLOYEE_hire_date NOT NULL,
salary NUMBER(7,2)       CONSTRAINT NN_EMPLOYEE_salary NOT NULL,
commission NUMBER(7,2),
occupation_id NUMBER(2)  CONSTRAINT NN_EMPLOYEE_occup_id NOT NULL
                         CONSTRAINT FK_EMPLOYEE_OCCUPATION REFERENCES OCCUPATION(occup_id),
dept_id NUMBER(3)        CONSTRAINT NN_EMPLOYEE_dept_id NOT NULL);

ALTER TABLE EMPLOYEE ADD CONSTRAINT FK_EMPLOYEE_DEPARTMENT FOREIGN KEY (dept_id) REFERENCES DEPARTMENT(dept_id);
